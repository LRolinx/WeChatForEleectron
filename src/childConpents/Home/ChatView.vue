<template>
  <div class="ChatView">
    <header class="height" style="-webkit-app-region: drag">
      <div class="chat-object-name">
        <span>{{Data.name}}</span>
        <p hidden>{{viewData.ID}}</p>
      </div>
      <div class="move-func">
        <svg
          t="1592141587696"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="2833"
          width="20"
          height="20"
        >
          <path
            d="M163.584 412.416a99.584 99.584 0 1 1 0 199.232 99.584 99.584 0 0 1 0-199.232z m348.416 0a99.584 99.584 0 1 1 0 199.232 99.584 99.584 0 0 1 0-199.232z m348.416 0a99.584 99.584 0 1 1 0 199.168 99.584 99.584 0 0 1 0-199.168z"
            p-id="2834"
            fill="rgb(24,24,24)"
          />
        </svg>
      </div>
    </header>
    <div class="dialogue-list">
       <div></div>
    </div>
    <div class="editMessage">
      <div class="func">
        <svg
          t="1592144017138"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="4486"
          width="23"
          height="23"
        >
          <path
            d="M512 992C247.3 992 32 776.7 32 512S247.3 32 512 32s480 215.3 480 480-215.3 480-480 480z m0-896C282.6 96 96 282.6 96 512s186.6 416 416 416 416-186.6 416-416S741.4 96 512 96z"
            fill="#4a4949"
            p-id="4487"
          />
          <path
            d="M512 800c-78 0-151.1-30.7-205.7-86.5C253.2 659.4 224 587.8 224 512c0-17.7 14.3-32 32-32h512c17.7 0 32 14.3 32 32 0 75.8-29.2 147.4-82.3 201.5C663.1 769.3 590 800 512 800zM352 668.8c42.5 43.4 99.3 67.2 160 67.2s117.5-23.9 160-67.2c33.7-34.4 55-77.9 61.7-124.8H290.3c6.6 46.9 28 90.3 61.7 124.8zM368 416c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z m288 0c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z"
            fill="#4a4949"
            p-id="4488"
          />
        </svg>

        <svg
          t="1592108688586"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="27440"
          width="22"
          height="22"
        >
          <path
            d="M859.5 193H446.939c-1.851-53.25-45.747-96-99.439-96h-183C109.635 97 65 141.635 65 196.5v632c0 54.864 44.635 99.5 99.5 99.5h695c54.864 0 99.5-44.636 99.5-99.5v-536c0-54.865-44.636-99.5-99.5-99.5z m-695-33h183c20.126 0 36.5 16.374 36.5 36.5v28c0 17.397 14.103 31.5 31.5 31.5h444c20.126 0 36.5 16.374 36.5 36.5V321H128V196.5c0-20.126 16.374-36.5 36.5-36.5z m695 705h-695c-20.126 0-36.5-16.374-36.5-36.5V384h768v444.5c0 20.126-16.374 36.5-36.5 36.5z"
            p-id="27441"
            fill="#4a4949"
          />
        </svg>
        <svg
          t="1592144445680"
          class="icon"
          viewBox="0 0 1024 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="27441"
          width="18"
          height="18"
        >
          <path
            d="M542.039575 478.378987L786.67247 0l47.325579 24.143089-244.632896 478.378987z"
            p-id="13248"
            fill="#4a4949"
          />
          <path
            d="M960.797298 712.765478l-74.286429-73.005628a180.592871 180.592871 0 0 0-250.396498-4.482802 141.528455 141.528455 0 0 1-80.690431-14.729206L218.573408 11.527205l-46.749218 25.61601 320.200125 576.360225a176.110069 176.110069 0 0 1-101.183239 21.773608 180.592871 180.592871 0 0 0-252.317699 4.482802L64.236948 712.765478a179.95247 179.95247 0 0 0 0 256.1601 172.908068 172.908068 0 0 0 256.1601-4.482801l192.120075-286.899312 192.120075 288.180112a172.908068 172.908068 0 0 0 256.1601 0 179.95247 179.95247 0 0 0 0-252.958099zM279.411432 933.703565a121.035647 121.035647 0 0 1-177.390869-3.842402 128.08005 128.08005 0 0 1 0-179.95247l74.286429-73.646029a128.08005 128.08005 0 0 1 179.31207 0l7.684803 5.123202a122.956848 122.956848 0 0 0 80.050031 0z m643.602252-3.842402a120.395247 120.395247 0 0 1-176.750469 3.842402l-163.942465-249.756098a122.956848 122.956848 0 0 0 80.050032 0l7.684803-5.123202a128.08005 128.08005 0 0 1 179.31207 0l74.286429 73.646029a128.08005 128.08005 0 0 1-0.6404 177.390869z"
            p-id="27441"
            fill="#4a4949"
          />
        </svg>

        <svg
          t="1592144765338"
          class="icon"
          viewBox="0 0 1031 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="27353"
          width="21"
          height="21"
        >
          <path
            d="M211.968 454.144c0 32.768 26.624 59.904 59.904 59.904 32.768 0 59.904-26.624 59.904-59.904 0-32.768-26.624-59.904-59.904-59.904-33.28 0.512-59.904 27.136-59.904 59.904z"
            p-id="27354"
            fill="#4a4949"
          />
          <path
            d="M271.872 526.848c-19.456 0-37.376-7.68-51.2-21.504s-20.992-31.744-20.992-51.2 7.68-37.376 21.504-51.2 31.744-20.992 51.2-20.992 37.376 7.68 51.2 21.504 20.992 31.744 20.992 51.2-7.68 37.888-21.504 51.2c-13.824 13.824-32.256 20.992-51.2 20.992z m0-119.296c-12.288 0-24.576 5.12-33.28 13.824-8.704 8.704-13.824 20.48-13.824 33.28 0 12.288 5.12 24.576 13.824 33.28s20.48 13.824 33.28 13.824c26.112 0 47.104-20.992 47.104-47.104 0-12.8-5.12-24.576-13.824-33.28s-20.992-13.824-33.28-13.824z m-59.904 46.592zM448 457.216c0 32.768 26.624 59.904 59.904 59.904 32.768 0 59.904-26.624 59.904-59.904 0-32.768-26.624-59.904-59.904-59.904-33.28 0-59.904 26.624-59.904 59.904z"
            p-id="27355"
            fill="#4a4949"
          />
          <path
            d="M507.904 529.92c-39.936 0-72.704-32.768-72.704-72.704 0-39.936 32.768-72.704 72.704-72.704 19.456 0 37.376 7.68 51.2 21.504s20.992 31.744 20.992 51.2c0 39.936-32.256 72.704-72.192 72.704z m0-119.808c-26.112 0-47.104 20.992-47.104 47.104h-12.8H460.8c0 26.112 20.992 47.104 47.104 47.104s47.104-20.992 47.104-47.104c0-12.8-5.12-24.576-13.824-33.28-9.216-8.704-20.992-13.824-33.28-13.824z"
            p-id="27356"
            fill="#4a4949"
          />
          <path
            d="M689.664 458.752c0 32.768 26.624 59.904 59.904 59.904 32.768 0 59.904-26.624 59.904-59.904 0-32.768-26.624-59.904-59.904-59.904-32.768 0-59.904 26.624-59.904 59.904z"
            p-id="27357"
            fill="#4a4949"
          />
          <path
            d="M749.568 531.456c-19.456 0-37.888-7.68-51.2-21.504-13.824-13.824-20.992-31.744-20.992-51.2s7.68-37.376 21.504-51.2 31.744-20.992 51.2-20.992 37.376 7.68 51.2 21.504 20.992 31.744 20.992 51.2-7.68 37.888-21.504 51.2c-13.824 13.312-31.744 20.992-51.2 20.992z m0-119.808c-12.288 0-24.064 5.12-33.28 13.824-8.704 8.704-13.824 20.48-13.824 33.28 0 12.288 5.12 24.576 13.824 33.28s20.48 13.824 33.28 13.824c12.288 0 24.064-5.12 33.28-13.824 8.704-8.704 13.824-20.48 13.824-33.28s-5.12-24.576-13.824-33.28-20.992-13.824-33.28-13.824z m-59.904 47.104z"
            p-id="27358"
            fill="#4a4949"
          />
          <path
            d="M515.584 32.256C248.32 32.256 32.256 219.648 32.256 451.072c0 132.096 70.656 249.856 181.248 326.656-1.024 23.552 3.072 214.528 3.072 214.528s183.296-99.328 236.544-125.952c20.992 2.56 41.984 3.584 62.976 3.584 267.264 0 483.328-187.392 483.328-418.816S782.848 32.256 515.584 32.256z m0 783.872c-38.912 0-70.656-1.536-107.008-10.24 2.56 1.536-138.24 88.576-138.24 88.576l7.68-141.824c-112.128-65.536-183.808-175.616-183.808-301.568 0-201.728 188.928-365.056 421.888-365.056s421.888 163.328 421.888 365.056-189.44 365.056-422.4 365.056z"
            p-id="27359"
            fill="#4a4949"
          />
          <path
            d="M216.064 1005.056c-2.048 0-4.608-0.512-6.656-1.536-4.096-2.048-6.144-6.144-6.144-10.752 0-7.168-3.584-166.912-3.072-207.872-115.2-82.944-180.736-204.288-180.736-333.824 0-238.08 222.72-431.616 496.128-431.616 273.92 0 496.128 193.536 496.128 431.616s-222.72 431.616-496.128 431.616c-19.968 0-40.448-1.024-60.416-3.072-55.808 28.16-230.912 122.88-232.448 123.904-2.56 0.512-4.608 1.536-6.656 1.536zM515.584 45.056C256 45.056 45.056 226.816 45.056 451.072c0 123.392 64 238.592 175.616 316.416 3.584 2.56 5.632 6.656 5.632 11.264-1.024 18.432 1.536 142.336 2.56 192.512 48.128-26.112 175.616-94.72 218.112-116.224 2.048-1.024 4.608-1.536 7.168-1.024 20.48 2.048 40.96 3.584 61.44 3.584 259.584 0 470.528-182.272 470.528-406.016S775.168 45.056 515.584 45.056zM270.336 907.264c-2.048 0-4.608-0.512-6.656-1.536-4.096-2.56-6.656-7.168-6.144-11.776l7.168-134.144c-115.2-70.144-183.296-184.832-183.296-308.736 0-208.384 195.072-377.856 434.688-377.856 239.616 0 434.688 169.472 434.688 377.856 0 208.384-195.072 377.856-434.688 377.856-38.4 0-69.12-1.536-103.936-9.216-14.336 10.752-49.152 32.768-134.656 85.504-2.56 1.024-5.12 2.048-7.168 2.048z m245.248-808.96c-225.28 0-409.088 158.208-409.088 352.256 0 116.736 66.56 225.792 177.664 290.816 4.096 2.56 6.656 7.168 6.144 11.776L284.16 870.4c46.08-28.672 104.96-65.536 114.688-72.704 3.072-3.584 8.192-5.632 12.8-4.096 34.304 8.192 65.536 9.728 103.936 9.728 225.28 0 409.088-158.208 409.088-352.256 0-194.56-183.808-352.768-409.088-352.768z"
            p-id="27360"
            fill="#4a4949"
          />
        </svg>
      </div>
      <textarea></textarea>
      <!-- <div contenteditable="true" @keydown="enterSendMessage" v-model="message"></div> -->
    </div>
  </div>
</template>

<script lang="ts">
import { Vue, Component, Prop } from "vue-property-decorator";
import ChangeViewResult from "../../interface/ChangeViewResult";
import { CHAT_LIST_DATA } from "../../dataStore/index";
import ObjectTyle from "../../interface/ObjectType";

@Component
export default class ChatView extends Vue {
  private Data: ObjectTyle = {};
  private message: string | undefined = "1";
  @Prop() private viewData: ChangeViewResult | undefined;
  // 第一次挂载实例完成时触发
  public mounted() {
    this.getData();
  }
  // 视图更新时触发
  public updated() {
    this.getData();
  }
  // 更新数据
  public getData() {
    this.Data = CHAT_LIST_DATA[(this.viewData as ChangeViewResult).ID - 1];
  }

  public enterSendMessage(e: KeyboardEvent) {
    if (e.code == "Enter") {
      //   sendMessage(e.target);
      console.log(e);
    }
  }
}
</script>

<style lang="scss" scoped>
$line-height-header: 60px;

.ChatView {
  display: grid;
  grid-auto-columns: auto;
  grid-auto-rows: $line-height-header auto 200px;
}

.height {
  width: 100%;
  height: $line-height-header;
  background: rgb(251, 251, 251);
  display: flex;
  justify-content: space-between;
  box-sizing: border-box;
  padding: 0 20px;
  justify-items: center;
  user-select: none;
  line-height: $line-height-header;
  border-bottom: 1px solid rgb(243, 243, 243);

  .chat-object-name {
    display: inline;
    line-height: $line-height-header;
  }
}

.dialogue-list {
   max-height: auto;
   box-sizing: border-box;
   padding: 15px;
   grid: 200px / auto-flow;
}

.editMessage {
  border-top: 1px solid rgb(243, 243, 243);
  height: 200;
  box-sizing: border-box;
  padding: 15px;
  display: grid;
  grid-auto-rows: 30px auto;
  background: rgb(251, 251, 251);

  textarea {
    height: 100%;
    resize: none;
    border: none;
    background: none;
    outline: none;
  }

  //   textarea:

  .func {
    display: flex;
    justify-items: center;

    svg {
      margin-right: 15px;
    }
  }
}
</style>